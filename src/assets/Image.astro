---
import { images, type Images } from './images';

interface Props {
  name?: string;
  url?: string | undefined
  width?: string | undefined;
  height?: string | undefined;
  className?: string;
  style?: object;
}

const {
  name,
  url,
  width,
  height,
  className,
  style, 
  ...rest
} = Astro.props as Props;

const compileStyle = {
  ...(width && {width}),
  ...(height && {height}),
  ...(style && {...style})
}
const imgSrc = url ?? images[name as keyof Images] ?? '';
---

<figure
  class={`relative overflow-hidden ${className ? className : ""}`} style={Object.keys(compileStyle)?.length > 0 ? compileStyle : {}} {...rest}
>
  <slot/>
  <img
    class='block w-full h-full object-contain'
    src={imgSrc}
    alt={`reign ${name ?? ''}`}
  />
</figure>
