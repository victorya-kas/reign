---
import QueryImg from "@/components/QueryImg.astro";
import playIcon from "@images/play-icon.png";
import playIconMb from "@images/play-icon.png";
import heroMockupTopLeft from "@images/hero-mockup-top-left.png";
import heroMockupTopLeftMb from "@images/hero-mockup-top-left-mb.png";
import heroMockupBottomLeft from "@images/hero-mockup-bottom-left.png";
import heroMockupBottomLeftMb from "@images/hero-mockup-bottom-left-mb.png";
import heroMockupTopRight from "@images/hero-mockup-top-right.png";
import heroMockupTopRightMb from "@images/hero-mockup-top-right-mb.png";
import heroMockupBottomRight from "@images/hero-mockup-bottom-right.png";
import heroMockupBottomRightMb from "@images/hero-mockup-bottom-right-mb.png";
import reignLogo from "@images/reign-logo.png";
import reignLogoMb from "@images/reign-logo-mb.png";
import googlePlayBtn from "@images/gp-btn.svg";
import epicGamesIcon from "@images/epic-games-icon.svg";
import consoleIcon from "@images/console-icon.svg";
import psIcon from "@images/ps-icon.svg";
import appleIcon from "@images/apple-icon.svg";
import steamBtn from "@images/steam-btn.svg";
import heroBg from "@images/hero-section-bg-mobile.jpg";
import heroBgLg from "@images/hero-section-bg.jpg";
import BtnContainer from "@ui/Button/BtnContainer.astro";
import { Image } from "astro:assets";
import Modal from "@components/Modal.astro";
import ParallaxItem from "../ui/Parallax/ParallaxItem.astro";
import ParallaxContainer from "../ui/Parallax/ParallaxContainer.astro";

const heroBgImg = `url('${heroBg?.src}')`;
const heroBgLgImg = `url('${heroBgLg?.src}')`;
---

<style define:vars={{ heroBgImg, heroBgLgImg }}>
  @media (max-width: 1440px) {
    section#hero-section {
      background-image: var(--heroBgImg);
    }
  }
  @media (min-width: 1440px) {
    section#hero-section {
      background-image: var(--heroBgLgImg);
    }
  }
</style>
<section
  id="hero-section"
  class="min-h-[375px] bg-cover bg-no-repeat bg-center pt-[50px] laptop:pt-[70px] relative pb-[330px] laptop:pb-[300px] desktop-lg:pb-[200px]"
>
  <ParallaxContainer
    class="flex [&>div]:shrink-0 py-8 px-[30px] desktop-sm:px-[60px]"
  >
    <div class="w-[35%]">
      <ParallaxItem dist={{ x: 10, y: 10 }}>
        <QueryImg
          mobileImg={heroMockupTopLeftMb}
          desktopImg={heroMockupTopLeft}
          alt="reign"
          className="h-[50%] flex items-center"
        />
      </ParallaxItem>

      <ParallaxItem dist={{ x: 10, y: -10 }}>
        <QueryImg
          mobileImg={heroMockupBottomLeftMb}
          desktopImg={heroMockupBottomLeft}
          alt="reign"
          className="h-[50%] flex items-center"
        />
      </ParallaxItem>
    </div>
    <div class="w-[30%] flex flex-col items-center gap-14">
      <QueryImg mobileImg={reignLogoMb} desktopImg={reignLogo} alt="reign" className="max-w-[80%]" />
      <Modal id="hero-modal">
        <BtnContainer
          tag="button"
          class="relative flex justify-center items-center w-[60px] h-[60px] desktop-sm:w-[90px] desktop-sm:h-[90px] desktop-lg:w-[120px] desktop-lg:h-[120px] desktop-xl:w-[160px] desktop-xl:h-[160px]"
          slot="modal-btn"
        >
          <QueryImg
            mobileImg={playIconMb}
            desktopImg={playIcon}
            alt="play button"
            className="absolute w-full h-full z-20 top-0 left-0"
          />
          <span
            class="block shrink-0 w-[80%] pb-[80%] rounded-full border-2 border-golden-light-2 animate-ping-slow"
          ></span>
        </BtnContainer>
        <iframe width="560" height="315" src="https://www.youtube.com/embed/MG6NCsz7Cz8?si=Hz-dJDxiuPy8qKmp" title="Reigh" frameborder="0" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share" referrerpolicy="strict-origin-when-cross-origin" allowfullscreen></iframe>
      </Modal>
    </div>
    <div class="w-[35%]">
      <ParallaxItem dist={{ x: -10, y: 10 }}>
        <QueryImg
          mobileImg={heroMockupTopRightMb}
          desktopImg={heroMockupTopRight}
          alt="reign"
          className="h-[50%] flex items-center"
        />
      </ParallaxItem>
      <ParallaxItem dist={{ x: -10, y: -10 }}>
        <QueryImg
          mobileImg={heroMockupBottomRightMb}
          desktopImg={heroMockupBottomRight}
          alt="reign"
          className="h-[50%] flex items-center"
        />
      </ParallaxItem>
    </div>
  </ParallaxContainer>
  <div class="wrapper flex flex-col items-center justify-center gap-8 absolute bottom-[50px] left-[50%] -translate-x-[50%]">
    <p class="text-gold-2 text-2xl desktop-sm:text-3xl desktop-lg:text-5xl text-center uppercase">
        Victory <br />
        is in your hands
      </p>
    <div class="flex items-center gap-8">
        <BtnContainer
          tag="link"
          href="https://play.google.com/store/apps/details?id=top.deck.reign"
          target="_blank"
        >
          <Image src={googlePlayBtn} alt="google play button" />
        </BtnContainer>
        <BtnContainer
          tag="link"
          href="https://store.steampowered.com/app/2749040"
          target="_blank"
        >
          <Image src={steamBtn} alt="steam button" />
        </BtnContainer>
      </div>
      <div class="group">
        <div class="flex items-center gap-4">
          <Image src={appleIcon} alt="apple icon" />
          <Image src={consoleIcon} alt="console icon" />
          <Image src={psIcon} alt="ps icon" />
          <Image src={epicGamesIcon} alt="epic games icon" />
        </div>
        <span
          class="h-[40px] flex w-full justify-center items-center text-golden-light-1 text-sm desktop-sm:text-lg bg-dark-5 border border-golden-light-1 shadox-[0px_0px_5px_0px_rgba(0,0,0,1)] scale-0 transition-transform group-hover:scale-100"
          >Soon</span
        >
      </div>
  </div>
</section>
